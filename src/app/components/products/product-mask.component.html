<div *ngIf="loading">
  <i class="fas fa-spinner"></i>
</div>

<form #productForm="ngForm" (ngSubmit)="onSave()" *ngIf="product">
  <div class="form-group">
    <label for="productName">{{'product.name' | translate}}</label>
    <input type="text" class="form-control" id="productName" [(ngModel)]="product.name" name="productName"
           required minlength="3" maxlength="50">
    <small class="form-text text-muted">{{'product.name-restriction' | translate}}</small>
  </div>

  <div class="form-group">
    <label for="productPrice">{{'product.price' | translate}}</label>
    <input type="number" class="form-control" id="productPrice" [(ngModel)]="product.price" name="productPrice"
           required min="0.01" step="0.01">
    <small class="form-text text-muted">{{'product.price-restriction' | translate}}</small>
  </div>

  <div class="form-group">
    <button type="submit" class="btn btn-primary" [disabled]="!productForm.form.valid || submitting">
      <span *ngIf="submitting"><i class="fas fa-spinner"></i></span>
      {{'common.save' | translate}}
    </button>

    <a routerLink="/products/list" class="ml-1">{{'common.cancel' | translate}}</a>
  </div>

  <div class="form-group">
    <app-validation-error [validationError]="error"></app-validation-error>
  </div>
</form>
